<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Video Player</title>
	<link rel="stylesheet" th:href="@{webjars/bootstrap/css/bootstrap.min.css}" />
	<script th:src="@{webjars/jquery/jquery.min.js}"></script>
	<script>
		$(document).ready(function () {
			var video = document.getElementById('videoPlayer');

			// Add event listener for seek
			video.addEventListener('seeking', function () {
				console.log('Seeking to: ' + video.currentTime);
			});
		});

	</script>
	<script>
    window.addEventListener("beforeunload", function () {
        // Send a request to notify the server
        navigator.sendBeacon("/navigation/handle");
    });
</script>
	
</head>

<body>
	<div th:replace="~{fragments/header :: header}"></div>
	
	<p align="center" style="font-style: italic;" th:text=${filmTitle}>
	<div class="container mt-5">
		<video id="videoPlayer" class="w-100" controls autoplay>
			<source th:src="@{/media(streamUrl=${streamUrl})}" type="video/mp4">
<!-- 			<source th:src=${streamUrl} type="video/mp4"> -->
			Your browser does not support the video tag.
		</video>
	</div>
<div th:replace="~{fragments/footer :: footer}"></div>
</body>

</html>